name: huobi
terms:
  terms_url: https://www.hbus.com/terms-of-service/
  permission: null
  search_targets:
  - tag: div
    class: legal_body
api_url: https://api.huobi.pro/
rate_limit:
  max: 100
  unit: 10
requests:
  currency_pairs:
    request:
      template: v1/common/symbols
      pair_template: null
      params: null
    response:
      type: dict
      values:
        status:
          type: str
        data:
          type: list
          values: 
            type: dict
            values:
              base-currency:
                type: str
              quote-currency:
                type: str
              price-precision:
                type: int
              amoint_precision:
                type: int
              symbol-partition:
                type: str
              symbol:
                type: str
              state:
                type: str
              value-precision:
                type: int
              min-order-amt:
                type: float
              max-oder-amt:
                type: float
              min-order-value:
                type: float
              laverage-ratio:
                type: int
    mapping:
      - key: currency_pair_first
        path: 
        - data
        - base-currency
        type: 
        - str
        - upper
      - key: currency_pair_second
        path:
        - data
        - quote-currency
        type: 
        - str
        - upper



  historic_rates:
    request:
      template: market/history/kline
      pair_template: # i.e. BTC_CQ
        template: "{first}{second}"
        lower_case: true
        alias: symbol
      params:
        period:
          type: str
          allowed:
          - 1min
          - 5min
          - 15min
          - 30min
          - 60min
          - 1day
          - 1week
          - 1mon
          - 1year
          default: 1day
        size:
          type: int
          min: 1
          max: 2000
          default: 2000
    response:
      type: dict
      values:
        status:
          type: str
          allowed:
          - ok
          - error
        ch: # channel format, i.e. "market.btcusdt.kline.1day"
          type: str
        ts: # timestamp in millisecond
          type:
          - int
        data:
          type: list
          values:
            type: dict
            values:
              id:
                type: int
              amount:
                type: float
              count:
                type: int
              open:
                type: float
              close:
                type: float
              low:
                type: float
              high:
                type: float
              vol:
                type: float
    mapping:
    - key: historic_rates_time
      path:
      - data
      -id      
      type:
      - int
      - fromtimestamp
    - key: historic_rates_open
      path:
      - data
      - open
      type:
      - float
    - key: historic_rates_close
      path:
      - data
      - close
      type:
      - float
    - key: historic_rates_low
      path:
      - data
      - low
      type:
      - float
    - key: historic_rates_high
      path:
      - data
      - high
      type:
      - float
    - key: historic_rates_volume
      path:
      - data
      - vol
      type:
      - float

  ticker:
    request:
      template: market/detail/merged
      pair_template: # i.e. BTC_CQ
        template: "{first}{second}"
        lower_case: true
        alias: symbol
      params: null
    response:
      type: dict
      values:
        status:
          type: str
        ch: # channel format, i.e. "market.btcusdt.kline.1day"
          type: str
        ts: # timestamp in millisecond
          type:
          - int
        tick:
          type: dict
          values:
            amount:
              type: float
            open:  # daily Kline, opening price
              type: float
            close: # daily Kline, closing price
              type: float
            high:  # daily Kline,the maxmum price
              type: float
            id:
              type: int
            count:
               type: int
            low:   # daily Kline, the minimum price
              type: float
            version:
              type: int  
            ask:
              type: list
              values:
                0:
                  type: float
                1:
                  type: float  
            bid:
              type: list
              values:
                0: # price
                  type: float
                1: # size
                  type: float
            vol:
              type: float
    mapping:
    - key: ticker_time
      path:
      - ts
      type:
      - int
      - fromtimestampms
    - key: ticker_daily_volume
      path:
      - tick
      - vol
      type:
      - float
    - key: ticker_best_ask
      path:
      - tick
      - ask
      - 0
      type:
      - float
    - key: ticker_best_bid
      path:
      - tick
      - bid
      - 0
      type:
      - float

  order_book:
    request:
      template: market/depth
      pair_template: # i.e. BTC_CQ
        template: "{first}{second}"
        lower_case: true
        alias: symbol
      params:
        type:
          type: str
          allowed:
          - step0
          - step1
          - step2
          - step3
          - step4
          - step5
          default: step5 #aggregation level (step5 -->max. aggregation)
    response:
      type: dict
      values:
        status:
          type: str
        ch:
          type: str
        ts: # timestamp in millisecond
          type:
          - int
        tick: # Depth
          type: dict
          values:
            id:
              type: int
            ts:
              type:
              - int
            bids:
              type: list
              values:
                type: list
                values:
                  0: # price
                    type: int
                  1: # amount
                    type: float
            asks:
              type: list
              values:
                type: list
                values:
                  0: # price
                    type: int
                  1: # amount
                    type: float
    mapping:
    - key: order_book_time
      path:
      - tick
      - ts
      type:
      - int
      - fromtimestampms
    - key: order_book_bids_price
      path:
      - tick
      - bids
      - 0
      type:
      - int
    - key: order_book_bids_size
      path:
      - tick
      - bids
      - 1
      type:
      - float
    - key: order_book_asks_price
      path:
      - tick
      - asks
      - 0
      type:
      - int
    - key: order_book_asks_size
      path:
      - tick
      - asks
      - 1
      type:
      - float

  trades:
    request:
      template: market/trade
      pair_template: # i.e. BTC_CQ
        template: "{first}{second}"
        lower_case: true
        alias: symbol
      params: null
    response:
      type: dict
      values:
        status:
          type: str
        ch:
          type: str
        ts: # timestamp in millisecond
          type:
          - int
        tick: # Trade
          type: dict
          values:
            id:
              type: int
            ts:
              type:
              - int
            data:
              type: list
              values:
                type: dict
                values:
                  id:
                    type: int
                  price:
                    type: float
                  amount:
                    type: float
                  direction:
                    type: str
                  ts:
                    type:
                    - int
    mapping:
    - key: trade_last_price
      path:
      - tick
      - data
      - price
      type:
      - float
    - key: trade_amount
      path:
      - tick
      - data
      - amount
      type:
      - float
    - key: trade_side
      path:
      - tick
      - data
      - direction
      type:
      - str
    - key: trade_time
      path:
      - tick
      - data
      - ts
      type:
      - int
      - fromtimestampms

  # history_trade: # not required
    # request:
      # template: history/trade
      # values: null
      # params:
        # symbol:
          # type: template
          # template: "{first}{second}"
          # lower_case: true
        # size:
          # type: int
          # default: 1
          # min: 1
          # max: 2000
    # response:
      # type: dict
      # values:
        # status:
          # type: str
          # allowed:
          # - ok
          # - error
        # ch:
          # type: str
        # ts:
          # type:
          # - int
          # - fromtimestamp
        # data:
          # type: list
          # values:
            # type: dict
            # values:
              # id:
                # type: int
              # ts: # timestamp
                # type:
                # - int
                # - fromtimestampms
              # data:
                # type: list
                # values:
                  # type: dict
                  # values:
                    # id:
                      # type: int
                    # amount:
                      # type: float
                    # price:
                      # type: int
                    # direction:
                      # type: str
                    # ts:
                      # type:
                      # - int
                      # - fromtimestampms
    # mapping: null
