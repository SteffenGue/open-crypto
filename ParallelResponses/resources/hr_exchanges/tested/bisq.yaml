name: bisq
terms:
  terms_url: null
api_url: https://markets.bisq.network/api/
rate_limit: null
requests:
  symbols:
    request:
      template: currencies/
      pair_template: null
      params: null
    response:
      type: dict
      values:
        currencies: # variable keys, each available currency
          type: dict
          values:
            code: # symbols
              type: str
            name: # names
              type: str
            precision:
              type: int
            type:
              type: str
    mapping:
    - key: currency_symbol
      path:
      - dict_values
      - code
      type:
      - str
    - key: currency_name
      path:
      - dict_values
      - name
      type:
      - str

  currency_pairs:
    request:
      template: markets/
      pair_template: null
      params: null
    response:
      type: dict
      values:
        currency_pairs: # variable keys; each available currency pair
          type: dict
          values:
            pair: # e.g. 1cr_btc
              type: str
            lname:
              type: str
            rname:
              type: str
            lsymbol:
              type: str
            rsymbol:
              type: str
            lprecision:
              type: int
            rprecision:
              type: int
            ltype:
              type: str
            rtype:
              type: str
            name:
              type: str
    mapping:
    - key: currency_pair_first
      path:
      - dict_values
      - lsymbol
      type:
      - str
    - key: currency_pair_second
      path:
      - dict_values
      - rsymbol
      type:
      - str

  order_book:
    request:
      template: depth
      pair_template: # e.g. 1cr_btc
        template: "{first}_{second}"
        lower_case: true
        alias: market
      params:
        format:
          type: str
          allowed:
          - json
          - jsonpretty
          default: jsonpretty
    response:
      type: dict
      values:
        currency_pairs: # variable key
          type: dict # is empty list when lack of values
          values:
            buys:
              type: list
              values: # open offer prices
                type:
                  - str
                  - float
            sells:
              type: list
              values: # open offer prices
                type:
                  - str
                  - float
    mapping:
    - key: currency_pair_first
      path:
      - dict_key
      type:
      - split
      - "_"
      - 0
    - key: currency_pair_second
      path:
      - dict_key
      type:
      - split
      - "_"
      - 1
    - key: order_book_time
      path: []
      type:
      - none
      - now
    - key: order_book_bids_price
      path:
      - dict_values
      - buys
      type:
      - str
      - float
    - key: order_book_asks_price
      path:
      - dict_values
      - sells
      type:
      - str
      - float

  historic_rates:
    request:
      template: hloc
      pair_template: # e.g. 1cr_btc
        template: "{first}_{second}"
        lower_case: true
        alias: market
      params:
        interval:
          type: str
          allowed:
          - minute
          - half_hour
          - hour
          - half_day
          - day
          - week
          - month
          - year
          - auto
          # default: auto
        timestamp_from: # in seconds since 1970
          type:
          - datetime
          - strftime
          - "%Y-%m-%d"
          # default: 1451602800 # 2016-01-01
        timestamp_to: # end time, in seconds since 1970
          type:
          - datetime
          - strftime
          - "%Y-%m-%d"
          # default: now
        format:
          type: str
          allowed:
          - csv
          - json
          - jsonpretty
          # default: jsonpretty
    response:
      type: list
      values:
        type: dict
        values:
          period_start:
            type:
            - int
            - fromtimestamp
          open:
            type:
            - str
            - float
          high:
            type:
            - str
            - float
          low:
            type:
            - str
            - float
          close:
            type:
            - str
            - float
          volume_left:
            type:
            - str
            - float
          volume_right:
            type:
            - str
            - float
          avg:
            type:
            - str
            - float
    mapping:
    - key: historic_rates_time
      path:
      - period_start
      type:
      - int
      - fromtimestamp
    - key: historic_rates_open
      path:
      - open
      type:
      - str
      - float
    - key: historic_rates_high
      path:
      - high
      type:
      - str
      - float
    - key: historic_rates_low
      path:
      - low
      type:
      - str
      - float
    - key: historic_rates_close
      path:
      - close
      type:
      - str
      - float

  ticker:
    request:
      template: ticker
      pair_template: # e.g. 1cr_btc
        template: "{first}_{second}"
        lower_case: true
        alias: market
      params:
        format:
          type: str
          allowed:
          - json
          - jsonpretty
          default: jsonpretty
    response:
      type: dict
      values:
        currency_pairs: # variable key; each currency pair
          type: dict
          values:
            last:
              type:
              - str
              - float
            high:
              type:
              - str
              - float
            low:
              type:
              - str
              - float
            volume_left:
              type: int
            volume_right:
              type: int
            buy:
              type:
              - str
              - float
            sell:
              type:
              - str
              - float
    mapping:
    - key: ticker_time
      path: []
      type:
      - none
      - now
    - key: ticker_last
      path:
      - last
      type:
      - float
    - key: ticker_best_bid
      path:
      - buy
      type:
      - float
    - key: ticker_best_ask
      path:
      - sell
      type:
      - float

  trades:
    request:
      template: trades
      pair_template: # e.g. 1cr_btc
        template: "{first}_{second}"
        lower_case: true
        alias: market
      params:
        format:
          type: str
          allowed:
          - json
          - jsonpretty
          default: jsonpretty
        timestamp_from: # start time, in seconds since 1970
          type:
          - datetime
          - strftime
          - "%Y-%m-%d"
          default: 2016-01-01
        timestamp_to: # end time, in seconds since 1970
          type:
          - datetime
          - strftime
          - "%Y-%m-%d"
          default: now
        trade_id_from: # identifies first trade to include
          type: str
          required: false
        trade_id_to: # identifies last trade to include
          type: str
          required: false
        direction: # trade direction: buy or sell. omit or leave null for both.
          type: str
          allowed:
          - buy
          - sell
          required: false
        limit:
          type: int
          max: 2000
          default: 100
        sort:
          type: str
          allowed:
          - asc
          - desc
          default: desc
    response:
      type: list
      values:
        type: dict
        values:
          direction:
            type: str
          price:
            type:
            - str
            - float
          amount:
            type:
            - str
            - float
          volume:
            type:
            - str
            - float
          payment_method:
            type: str
          trade_id:
            type: str
          trade_date: # in milliseconds since 1970
            type:
            - int
            - fromtimestampms
    mapping:
    - key: trade_side
      path:
      - direction
      type:
      - str
    - key: trade_last_price
      path:
      - price
      type:
      - str
      - float
    - key: trade_amount
      path:
      - amount
      type:
      - str
      - float
    - key: trade_time
      path:
      - trade_date
      type:
      - int
      - fromtimestampms
