name: p2pb2b
terms: null
rate_limit: null

api_url: https://api.p2pb2b.io/api/v1/public/

requests:
  currency_pairs:
    request:
      template: markets
      pair_template: null
      params: null

    response:
      type: dict
      values:
        success:
          type: bool
        message:
          type: str
        result:
          type: list
          values:
            type: dict
            values:
              name:
                type: str
              moneyPrec:
                type: int
              stock:
                type: str
              money:
                type: str
              moneyPrec:
                type: int
              stockPrec:
                type: int
              feePrec:
                type: int
              minAmount:
                type: float

    mapping:
    - key: currency_pair_first
      path:
      - result
      - name
      type:
      - str
      - split
      - "_"
      - 0
    - key: currency_pair_second
      path:
      - result
      - name
      type:
      - str
      - split
      - "_"
      - 1

  ticker:
    request:
      template: tickers
      pair_template: null
      params: null

    response:
      type: dict
      values:
        success:
          type: bool
        message:
          type: str
        resulst:
          type: dict
          values:
            currency_pair:
              type: dict
              values:
                at:
                  type: int
                ticker:
                  type: dict
                  values:
                    bid:
                      type: float
                    ask:
                      type: float
                    low:
                      type: float
                    high:
                      type: float
                    last:
                      type: float
                    vol:
                      type: float
                    change:
                      type: float
    mapping:
      - key: ticker_time
        path:
          - result
          - dict_values
          - at
        type:
          - int
          - fromtimestamp
      - key: currency_pair_first
        path:
          - result
          - dict_key
        type:
          - str
          - split
          - "_"
          - 0
      - key: currency_pair_second
        path:
          - result
          - dict_key
        type:
          - str
          - split
          - "_"
          - 1
      - key: ticker_last_price
        path:
          - result
          - dict_values
          - ticker
          - last
        type:
          - float
      - key: ticker_best_bid
        path:
          - result
          - dict_values
          - ticker
          - bid
        type:
          - float
      - key: ticker_best_ask
        path:
          - result
          - dict_values
          - ticker
          - ask
        type:
          - float
      - key: ticker_daily_volume
        path:
          - result
          - dict_values
          - ticker
          - vol
        type:
          - float

#  trades:
#    request:
#      template: history
#      pair_template:
#        template:  "{first}_{second}"
#        lower_case: false
#        alias: market
#      params:
#        lastId:
#          type: int
#          default: 1
#        limit:
#          type: int
#          default: 100
#          
#  response:
#    type: dict
#    values:
#      success:
#        type: bool
#      message:
#        type: str
#      result:
#        type: list
#        values:
#          type: dict
#          values:
#            id:
#              type: int
#            type: 
#              type: str
#            time:
#              type: int
#            amount:
#              type: float
#            price:
#              type: float
#              
#  mapping:                  
#  - key: trades_time
#    path: 
#    - result
#    - time
#    type:
#    - int
#    - fromtimestamp
#  - key: trades_amount
#    path:
#    - result
#    - amount
#    type:
#    - float
#  - key: trades_last_price
#    path:
#    - result
#    - price
#    type:
#    - float
#  - key: trades_side
#    path:
#    - result
#    - type
#    type: 
#    - str 
#           
#  order_book:
#    request:
#    response:
#    mapping: