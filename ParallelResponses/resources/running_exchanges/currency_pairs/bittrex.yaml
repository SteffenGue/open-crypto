#TODO: für historic rates muss das intervall mit im String übergeben werden,
# leider können wir bis jetzt nur das currency_pair in den String einfügern
name: bittrex
exchange: true
api_url: https://api.bittrex.com/v3/
rate_limit: null
requests:
  currency_pairs:
    request:
      template: markets
      pair_template: null
      params: null
    response:
      type: list
      values:
        type: dict
        values:
          symbol:
            type: str
          baseCurrencySymbol:
            type: str
          quoteCurrencySymbol:
            type: str
          minTradeSize:
            type:
              - str
              - float
          precision:
            type: int
          status:
            type: str
          createdAt:
            type:
              - str
          notice:
            type: str
          prohibitedIn:
            type: list
            values:
              - str
          associatedTermsOfService:
            type: list
    mapping:
    - key: currency_pair_first
      path:
        - baseCurrencySymbol
      type:
        - str
    - key: currency_pair_second
      path:
        - quoteCurrencySymbol
      type:
        - str


  ticker:
    request:
      template: markets/tickers
      pair_template: null
      params: null
    response:
      type: list
      values:
        type: dict
        values:
          symbol:
            type:
              - str
          lastTradeRate:
            type:
              - str
              - float
          bidRate:
            type:
              - str
              - float
          askRate:
            type:
              - str
              - float
    mapping:
    - key: currency_pair_first
      path:
        - symbol
      type:
        - str
        - split
        - '-'
        - 0
    - key: currency_pair_second
      path:
        - symbol
      type:
        - str
        - split
        - '-'
        - 1
    - key: ticker_time
      path: []
      type:
        - now
    - key: ticker_last_price
      path:
        - lastTradeRate
      type:
        - str
        - float
    - key: ticker_best_bid
      path:
        - bidRate
      type:
        - str
        - float
    - key: ticker_best_ask
      path:
        - askRate
      type:
        - str
        - float
#
#  market_summaries: # not required
#    request:
#      template: getmarketsummaries/
#      values: null
#      params: null
#    response:
#      type: dict
#      values:
#        success:
#          type: bool
#        message:
#          type: str
#        result:
#          type: list
#          values:
#            type: dict
#            values:
#              MarketName:
#                type: str
#              High:
#                type: float
#              Low:
#                type: float
#              Volume:
#                type: float
#              Last:
#                type: float
#              BaseVolume:
#                type: float
#              Timestamp:
#                type:
#                - str
#                - strptime
#                - "%Y-%m-%dT%H:%M:%SZ"
#              Bid:
#                type: float
#              Ask:
#                type: float
#              OpenBuyOrders:
#                type: int
#              OpenSellOrders:
#                type: int
#              PrevDay:
#                type: float
#              Created:
#                type:
#                - str
#                - strptime
#                - "%Y-%m-%dT%H:%M:%SZ"
#              DisplayMarketName:
#                type: str
#    mapping: null
#
  # order_book:
    # request:
      # template: getorderbook
      # pair_template:
        # template: "{first}-{second}"
        # lower_case: false
        # alias: market
      # params:
        # type:
          # type: str
          # allowed:
          # - buy
          # - sell
          # - both
          # default: both
    # response:
      # type: dict
      # values:
        # success:
          # type: bool
        # message:
          # type: str
        # result:
          # type: dict
          # values:
            # buy:
              # type: list
              # values:
                # type: dict
                # values:
                  # Quantity:
                    # type: float
                  # Rate:
                    # type: float
            # sell:
              # type: list
              # values:
                # type: dict
                # values:
                  # Quantity:
                    # type: float
                  # Rate:
                    # type: float
    # mapping:
    # - key: order_book_time
      # path: []
      # type:
      # - none
      # - now
    # - key: order_book_bids_price
      # path:
      # - result
      # - buy
      # - Rate
      # type:
      # - float
    # - key: order_book_bids_size
      # path:
      # - result
      # - buy
      # - Quantity
      # type:
      # - float
    # - key: order_book_asks_price
      # path:
      # - result
      # - sell
      # - Rate
      # type:
      # - float
    # - key: order_book_asks_size
      # path:
      # - result
      # - sell
      # - Quantity
      # type:
      # - float

#  trades:
#    request:
#      template: getmarkethistory
#      pair_template:
#        template: "{first}-{second}"
#        lower_case: false
#        alias: market
#      params: null
#    response:
#      type: dict
#      values:
#        success:
#          type: bool
#        message:
#          type: str
#        result:
#          type: list
#          values:
#            type: dict
#            values:
#              Id:
#                type: int
#              TimeStamp:
#                type:
#                - str
#              Quantity:
#                type: float
#              Price:
#                type: float
#              Total:
#                type: float
#              FillType:
#                type: str
#              OrderType:
#                type: str
#    mapping:
#    - key: trade_time
#      path:
#      - result
#      - TimeStamp
#      type:
#      - str
#      - strptime
#      - "%Y-%m-%dT%H:%M:%S.%f"
#    - key: trade_amount
#      path:
#      - result
#      - Quantity
#      type:
#      - float
#    - key: trade_last_price
#      path:
#      - result
#      - Price
#      type:
#      - float
#    - key: trade_side
#      path:
#      - result
#      - OrderType
#      type:
#      - str
