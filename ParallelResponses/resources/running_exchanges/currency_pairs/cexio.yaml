name: cexio
exchange: true
api_url: https://cex.io/api/
rate_limit: null
requests:
  currency_pairs:
    request:
      template: currency_limits/
      pair_template: null
      params: null
    response:
      type: dict
      values:
        e:
          type: str
        ok: # i.e. "ok"
          type: str
        data:
          type: dict
          values:
            pairs:
              type: list
              values:
                type: dict
                values:
                  symbol1: # i.e. "BTC"
                    type: str
                  symbol2: # i.e. "USD"
                    type: str
                  minLotSize:
                    type: float
                  minLotSizeS2:
                    type: float
                  maxLotSize:
                    type: int
                  minPrice:
                    type:
                    - str
                    - int
                  maxPrice:
                    type:
                    - str
                    - int
    mapping:
    - key: currency_pair_first
      path:
      - data
      - pairs
      - symbol1
      type:
      - str
    - key: currency_pair_second
      path:
      - data
      - pairs
      - symbol2
      type:
      - str

  ticker:
    request:
      template: ticker/{currency_pair}/
      pair_template:
        template: "{first}/{second}"
        lower_case: false
      params: null
    response:
      type: dict
      values:
        ok:
          type: str
        e:
          type: str
        data:
          type: list
          values:
            type: dict
            values:
              timestamp:
                type: str
              pair:
                type: str
              bid:
                type:
                - str
                - float
              low:
                type:
                - str
                - float
              high:
                type:
                - str
                - int
              last:
                type:
                - str
                - float
              volume:
                type:
                - str
                - float
              volume30d:
                type:
                - str
                - float
              priceChange:
                type: str
              priceChangePercentage:
                type: str
              bid:
                type: str
              ask:
                type:
                - str
                - float

    mapping:
    - key: ticker_daily_volume
      path:
      - data
      - volume
      type:
      - str
      - float
    - key: ticker_last_price
      path:
      - data
      - last
      type:
      - str
      - float
    - key: ticker_time
      path:
      - data
      - timestamp
      type:
      - str
      - int
      - fromtimestamp
    - key: ticker_best_bid
      path:
      - data
      - bid
      type:
      - str
      - float
    - key: ticker_best_ask
      path:
      - data
      - ask
      type:
      - str
      - float

  # order_book:
    # request:
      # template: order_book/{currency_pair}
      # pair_template:
        # template: "{first}/{second}"
        # lower_case: false
      # params:
        # depth:
          # type: int
          # required: false
    # response:
      # type: dict
      # values:
        # timestamp:
          # type:
          # - int
          # - fromtimestamp
        # bids:
          # type: list
          # values:
            # type: list
            # values:
              # 0: # price
                # type: float
              # 1: # amount
                # type: float
        # asks:
          # type: list
          # values:
            # type: list
            # values:
              # 0: # price
                # type: float
              # 1: # amount
                # type: float
        # pair:
          # type: str
        # id:
          # type: long
        # sell_total:
          # type:
          # - str
          # - float
        # buy_total:
          # type:
            # - str
            # - float
    # mapping:
    # - key: order_book_time
      # path:
      # - timestamp
      # type:
      # - int
      # - fromtimestamp
    # - key: order_book_bids_price
      # path:
      # - bids
      # - 0
      # type:
      # - float
    # - key: order_book_bids_size
      # path:
      # - bids
      # - 1
      # type:
      # - float
    # - key: order_book_asks_price
      # path:
      # - asks
      # - 0
      # type:
      # - float
    # - key: order_book_asks_size
      # path:
      # - asks
      # - 1
      # type:
      # - float

#  trades:
#    request:
#      template: trade_history/{currency_pair}/
#      pair_template:
#        template: "{first}/{second}"
#        lower_case: false
#      params: null
##        since: # return trades with tid >= since
##          type: int
##          required: false
#    response:
#      type: list
#      values:
#        type: dict
#        values:
#          type:
#            type: str
#          date:
#            type:
#            - str
#          amount:
#            type:
#            - str
#            - float
#          price:
#            type:
#            - str
#            - float
#          tid:
#            type:
#            - str
#            - float
#    mapping:
#    - key: trade_side
#      path:
#      - type
#      type:
#      - str
#    - key: trade_time
#      path:
#      - date
#      type:
#      - str
#      - int
#      - fromtimestamp
#    - key: trade_amount
#      path:
#      - amount
#      type:
#      - str
#      - float
#    - key: trade_last_price
#      path:
#      - price
#      type:
#      - str
#      - float

  historic_rates:
    request:
      template: ohlcv/hd/{till}/{currency_pair}/
      pair_template:
        template: "{first}/{second}"
        lower_case: false      
      params: 
        till: 
          type: int
          required: true
          default: 20190721
    response: 
      type: dict
      values:
        time:
          type: str
        data1m: 
          type: list
          values:
            type: list
            values:
              - 0: # timestamp
                type: int
              - 1: # open
                type: float
              - 2: # high
                type: float
              - 3: # low
                type: float
              - 4: # close
                type: float
              - 5: # volumne
                type: float
        data1h:
          type: list
          values:
            type: list        
            values:
              - 0: # timestamp
                type: int
              - 1: # open
                type: float
              - 2: # high
                type: float
              - 3: # low
                type: float
              - 4: # close
                type: float
              - 5: # volumne
                type: float
        data1d:
          type: list
          values:
            type: list        
            values:
              - 0: # timestamp
                type: int
              - 1: # open
                type: float
              - 2: # high
                type: float
              - 3: # low
                type: float
              - 4: # close
                type: float
              - 5: # volumne
                type: float
    mapping: 
      - key: historic_rates_time
        path: 
        - data1d
        - 0
        type:
        - int
        - fromtimestamp
      - key: historic_rates_close
        path: 
        - data1d
        - 4
        type:
        - float            